<?php

use Solobea\Dashboard\database\Database;

require_once  "vendor/autoload.php";
$database=new Database();
$quer1="select distinct url,ip from visitors where country like '%United States of America%'";
$ip_bots=$database->select($quer1);
foreach ($ip_bots as $ip_bot) {
    echo "{$ip_bot['url']} - "."\"{$ip_bot['ip']}\",";
    //echo "\"{$ip_bot['ip']}\",";
    echo "\n <br>";
}
exit();
$non_human_ips = [
    "54.174.58.233","66.249.65.42","216.73.216.181","54.183.170.121", "13.57.209.222","13.57.224.221","13.52.252.14",
    "54.174.58.243","66.249.65.43","54.215.240.99","54.177.192.103","18.144.85.53",
    "54.174.58.249", "66.249.73.160","155.117.98.4","54.67.113.25",
    "17.22.237.31","66.249.65.44","54.176.115.109","138.84.93.93", "173.252.95.3",
    "17.22.245.58","66.249.65.43","147.185.132.165", "20.168.19.99","52.33.193.111",
    "17.241.219.188","147.185.132.111","34.21.104.42", "40.122.173.152",
    "17.241.75.118","147.185.132.135","34.122.171.134","130.33.49.2","4.205.179.237",
    "104.28.253.46","66.249.73.162", "16.144.230.28","66.249.79.173",
    "45.12.136.67","3.101.36.233","23.27.49.40","54.190.60.66","173.252.127.1",
    "196.251.250.14","54.151.60.235","173.239.214.42", "54.176.32.127",
    "45.80.210.92","191.101.61.168","66.249.79.161",
    "205.169.39.184","34.139.253.89",
    "205.169.39.56","144.172.93.95",
    "205.169.39.58","20.168.57.113",
    "173.252.83.1","104.28.231.231",
    "173.252.83.7", "44.244.39.119",
    "31.13.115.112",
    "69.171.251.9",
    "34.116.174.147",
    "34.125.135.158",
    "34.94.168.147",
    "66.102.8.128",
    "66.102.8.129",
    "66.102.8.132",
    "66.249.66.164",
    "66.249.66.41",
    "66.249.66.6",
    "66.249.66.7",
    "66.249.76.196",
    "66.249.76.197",
    "66.249.76.198",
    "66.249.76.200",
    "66.249.79.1",
    "66.249.79.7",
    "66.249.79.8",
    "66.249.83.100",
    "66.249.83.101",
    "66.249.83.102",
    "66.249.93.132",
    "66.249.93.133",
    "66.249.93.134",
    "72.14.199.102",
    "72.14.199.103",
    "72.14.199.96",
    "74.125.213.36",
    "74.125.213.37",
    "74.125.213.38",
    "62.93.165.39",
    "213.239.200.253",
    "88.198.147.151",
    "79.127.142.116",
    "172.104.31.80",
    "45.79.159.178",
    "40.77.177.122",
    "40.77.177.223",
    "40.77.177.243",
    "40.77.177.250",
    "40.77.178.152",
    "40.77.178.31",
    "65.55.210.247",
    "203.159.81.73",
    "51.158.36.186",
    "51.195.255.139",
    "219.100.37.236",
    "219.100.37.238",
    "219.100.37.244",
    "169.150.218.35",
    "15.204.228.11",
    "188.178.26.104",
    "38.60.208.208","188.166.253.159","13.79.87.25","4.236.126.240","20.169.12.162","20.78.94.240","169.197.142.180","40.115.191.104","54.174.58.229","134.209.158.203","52.163.83.245","159.89.165.4","178.128.116.94","143.110.241.28","120.233.155.44","35.196.12.43","41.216.188.18","139.59.85.218","196.251.71.243","34.73.231.144","172.192.8.200","139.59.74.226","91.224.92.127","62.60.130.228","143.244.57.82","185.241.208.111","79.127.132.27","64.23.142.53","48.218.145.85","13.89.227.44","13.86.90.41","158.173.158.5","136.117.152.69","2.58.56.45","173.249.56.8","62.60.130.210","51.20.132.143","172.192.39.16","196.251.71.69","48.218.113.124","188.166.182.16","95.173.221.77","20.243.249.146","4.216.138.163","172.172.17.120","172.191.183.155","67.55.84.19","48.218.61.180","196.251.86.148","185.153.220.236","20.225.136.34","172.203.39.201","196.251.73.71","130.185.78.237","172.207.132.206","208.84.101.183","91.224.92.35","172.207.154.183","104.248.150.175","13.68.221.248","157.245.49.239","167.71.236.197","172.173.171.126","172.207.130.10","38.242.211.72","68.183.80.15","64.23.247.184","64.23.149.146","152.42.217.34","34.174.171.71","137.184.234.149","216.250.115.50","172.176.76.42","165.22.248.30","85.204.70.96","52.143.130.125","102.129.145.86","206.189.42.160","159.223.47.76","20.78.102.120","213.136.90.222","181.214.173.113","48.210.8.55","98.81.125.164","141.98.11.169","34.34.15.23","104.28.240.84","167.71.220.95","20.242.109.116","159.223.67.188","104.219.239.210","196.251.83.229","196.251.73.73","74.176.193.146","104.248.155.70","104.248.133.75","45.95.214.254","143.198.62.80","172.207.9.124","196.251.69.16","34.10.51.219","136.111.194.166","48.218.56.208","158.173.154.160","20.189.123.179","40.69.146.162","40.122.52.254","35.86.184.76","173.244.42.175","52.173.241.112","208.84.101.119","45.148.10.205","102.129.145.75","34.82.187.153","188.166.227.232","173.239.254.240","157.245.97.76","124.248.183.39","217.154.229.174","139.59.82.190","172.245.102.20","34.228.57.2","156.239.210.50","154.193.152.208","154.199.14.178","156.249.125.224","209.38.159.93","35.86.61.94","102.31.140.136","103.59.160.52","79.59.150.38","34.168.139.95","45.61.187.69","20.2.83.141","167.71.239.25","48.218.146.89","172.202.1.208","136.144.33.237","45.149.173.193","167.114.189.34","91.92.242.45","141.98.11.16","194.26.192.153","46.8.15.122","141.98.10.113","143.244.57.92","216.126.239.19","217.154.207.150","194.34.248.154","23.137.105.108","195.178.110.131","54.172.137.240","3.83.252.140","4.206.16.96","48.218.71.119","208.84.101.246","45.156.87.174","15.235.145.161","193.36.224.58","193.19.109.139","15.235.59.82","45.88.97.68","44.243.235.98","139.99.34.216","51.77.95.18","35.233.233.193","48.210.231.218","13.78.79.102","173.239.224.182","173.239.224.196","173.239.224.181","173.239.224.177","173.239.224.179","173.239.224.178","173.239.224.187","152.42.177.152","34.66.205.145","141.98.11.181","34.9.119.109","164.215.174.78","94.230.208.147","143.244.142.160","172.245.102.3","54.175.17.165","34.75.181.136","173.239.224.91","173.239.224.106","173.239.224.114","173.239.224.100","173.239.224.116","173.239.224.104","173.239.224.97","173.239.224.115","173.239.224.92","173.239.224.105","173.239.224.93","167.71.232.154","158.173.154.207","139.59.30.253","20.172.38.178","141.98.10.112","64.225.17.66","195.24.236.50","95.134.63.81","45.141.215.10","45.80.158.89","52.156.137.35","138.199.39.164","159.65.136.90","195.178.110.109","185.230.124.211","170.64.128.221","77.90.185.12","51.68.186.52","129.212.225.50","209.38.83.10","85.203.44.218","45.8.19.119","45.8.19.129","154.16.49.11","193.32.248.250","136.115.234.135","129.227.35.3","152.42.194.137","174.138.81.176","103.147.84.152","18.191.239.241","52.164.216.133","4.197.147.186","172.245.102.17","134.209.4.48","182.253.250.210","216.24.213.238","5.189.164.13","165.22.219.35","159.89.175.232","68.183.182.169","103.136.212.32","34.102.61.196","45.82.251.249","35.238.132.159","159.203.63.148","103.253.24.50","146.190.149.83","143.110.247.79","143.244.136.183","158.94.210.79","157.119.93.22","104.28.240.85","137.184.189.184","4.189.125.63","157.230.242.61","45.130.104.242","82.102.18.118","146.103.112.46","193.37.32.147","64.227.146.144","45.130.83.66","4.230.47.236","20.89.194.218","164.92.86.130","139.59.4.33","4.194.80.43","34.78.181.167","138.68.236.157","45.8.17.141","216.126.239.57","157.230.151.104","34.94.6.79","213.35.103.66","52.169.237.24","167.71.224.84","13.71.46.221","111.221.44.21","157.245.203.147","5.189.187.80","64.227.184.157","209.38.81.126","4.194.129.107","172.192.69.249","158.62.209.95","158.173.156.185","202.182.104.35","34.139.128.92","185.177.72.8","207.182.30.249","4.197.208.185","4.189.144.35","4.217.198.17","20.250.45.203","139.59.30.71","35.245.139.69","185.215.166.2","138.68.49.250","20.214.243.12","169.150.203.195","208.84.101.100","185.223.152.249","194.59.31.96","139.59.79.119","34.234.93.69","178.128.80.157","146.103.114.139","167.71.243.37","159.195.92.117","138.2.104.47","68.183.153.58","173.239.224.190","64.225.16.32","185.223.152.62","98.84.191.100","13.75.154.56","4.194.56.148","193.36.225.22","4.190.220.252","167.71.90.72","20.214.242.147","91.224.92.160","216.24.210.139","167.172.240.219","62.169.29.191","51.89.175.200","159.203.106.103","180.242.130.242","20.196.105.200","207.154.197.113","165.227.39.235","167.99.182.39","34.220.137.152","104.236.198.254","37.140.223.67","161.35.190.48","142.93.139.204","167.71.13.130","46.101.121.102","159.223.67.237","20.37.219.224","20.42.211.204","18.170.54.77","162.128.129.112","104.215.18.210","34.11.161.175","143.198.135.58","66.220.149.4","20.214.246.23","74.225.197.166","4.197.220.165","4.188.235.115","4.193.229.169","4.217.221.21","174.138.64.135","164.92.65.197","141.98.11.23","51.38.109.223","40.69.66.178","47.129.236.133","4.230.25.164","20.78.178.192","193.36.225.164","18.118.33.165","35.93.160.175","146.190.135.219","178.16.52.192","159.65.255.59","107.191.47.167","34.121.155.117","154.16.49.77","159.89.34.188","139.59.60.53","94.237.121.197","34.41.200.236","220.247.224.162","156.59.26.114","104.131.40.34","37.140.223.136","136.144.33.246","20.89.218.83","136.144.33.14","193.36.225.34","34.7.95.102","68.183.234.56","20.184.48.132","160.30.137.9","34.26.254.72","156.239.220.0","156.239.203.102","156.239.211.69","156.239.221.156","156.239.208.229","156.239.199.37","213.209.159.181","18.237.255.221","165.22.154.146","161.35.183.115","15.204.155.25","142.93.246.97","4.214.40.113","51.89.38.21","4.217.235.139","91.78.218.254","165.232.128.159","45.140.195.189","197.250.137.87","46.38.232.221","176.117.107.174","4.194.153.178","64.23.254.250","103.82.21.232","135.119.239.48","104.208.90.24","103.152.103.146",
    "5.11.81.40","35.240.184.64","41.59.95.2","219.100.37.239","41.59.92.126","41.59.94.82","190.120.96.26","196.249.105.179","196.249.102.167","104.223.85.126",
    "41.63.42.12","14.139.239.22","54.186.12.147","146.70.201.94","54.215.184.11","66.249.93.65","197.250.135.200","197.250.133.195","198.55.98.232","193.233.75.252","3.86.26.238","103.143.237.3","20.74.83.27","64.233.173.32","64.233.173.193","149.56.150.92","203.192.225.14","66.249.93.64","189.74.111.48","156.228.81.63","35.212.167.137","159.203.137.70","81.17.20.98","189.37.74.236","13.59.14.59","89.25.164.98","196.251.86.154","185.252.222.38","66.249.93.66","51.75.236.152","34.140.156.167","46.32.87.242","64.233.173.163","64.233.173.225","178.176.74.65","94.23.188.218","66.249.81.225","35.92.162.195","176.31.139.28","194.28.195.120","80.80.196.226","188.187.179.231","85.12.4.110","109.252.141.248","46.8.62.104","37.204.160.239","198.244.242.32","54.38.147.24","38.114.122.142","51.195.215.81","51.195.183.237","35.184.97.117","51.195.183.223","54.148.146.173","54.38.147.95","74.7.242.1","188.166.243.22","176.100.9.102","52.64.68.107","54.38.147.32","159.195.58.198","54.36.232.187","46.232.251.204","46.232.250.68","198.244.242.124","34.22.134.213","46.232.248.150","159.195.56.133","52.167.144.173","40.77.167.77","66.249.93.162","198.244.183.222","91.227.68.147","5.39.109.174","138.199.142.69","91.98.176.87","198.244.242.47","198.244.242.135","52.167.144.238","40.77.167.235","114.143.215.162","173.79.36.247","46.232.249.132","159.195.28.74","104.28.232.136","107.172.204.165","66.249.73.13","167.114.139.96","66.249.90.33","66.249.90.34","66.249.90.35","197.186.9.236","66.249.82.65","66.249.73.12","142.4.217.39","196.249.103.233","69.176.1.4","162.39.56.164","196.249.102.110",
    "95.174.67.164","34.23.70.187","34.70.60.201","34.58.184.237","34.79.89.161","34.75.93.144","185.177.72.55","34.86.42.217","135.220.210.220","35.227.147.218","34.48.35.109","35.187.78.25","34.83.29.29","45.154.98.45","54.226.168.213","164.92.141.175","34.10.3.74","208.109.189.9","35.193.98.59","34.11.20.183","136.115.127.217","34.138.102.151","34.26.52.208","136.117.78.42","35.243.207.216","34.123.212.181","172.192.16.240","45.156.87.98","35.238.156.120","20.171.145.154","35.226.33.186","104.199.112.8","136.115.192.69","20.168.40.87","34.173.248.126","34.56.29.206","34.133.34.227","35.224.251.34","52.163.96.247","34.59.170.163","34.86.100.34","172.207.95.60","13.67.205.98","34.138.121.253","34.138.117.145","34.7.98.88","34.138.224.148","2.58.56.222","35.239.201.150","35.193.236.150","34.135.161.146","34.11.216.141","4.206.10.90","20.222.232.51","20.171.157.114","34.171.111.92","172.176.168.113","4.242.217.225","239.55.142.129","164.191.168.95","6.152.137.143","34.132.6.99","34.105.80.146","34.145.228.91","104.197.53.71","34.148.229.188","255.139.18.155","135.209.48.193","53.67.206.194","35.240.235.180","64.28.35.180","99.248.121.199","69.167.12.46","136.107.48.18",
];
try {
    foreach ($non_human_ips as $non_human_ip) {
        $query="delete from visitors where ip ='{$non_human_ip}'";
        $res=$database->getCon()->query($query);
        if (!$res){
            throw new Exception("Not deleted ".$database->getCon()->error);
        }
    }
    echo "Successfully";
}catch (Exception $exception){
    echo $exception->getMessage();
}
