<?php

namespace Solobea\Dashboard\utils;
use DOMDocument;
use DOMXPath;

class Helper
{
    static function extractCleanBodyContent($html): bool|string
    {
        // Load HTML into DOMDocument
        libxml_use_internal_errors(true);
        $dom = new DOMDocument();
        $dom->loadHTML($html, LIBXML_HTML_NOIMPLIED | LIBXML_HTML_NODEFDTD);
        libxml_clear_errors();

        // Remove <style>, <script>, <link>, <meta>, and <head> tags
        $tagsToRemove = ['style', 'script', 'link', 'meta', 'head'];
        foreach ($tagsToRemove as $tag) {
            while (($elements = $dom->getElementsByTagName($tag))->length) {
                $elements->item(0)->parentNode->removeChild($elements->item(0));
            }
        }

        // Remove inline style attributes
        $xpath = new DOMXPath($dom);
        foreach ($xpath->query('//*[@style]') as $node) {
            $node->removeAttribute('style');
        }

        // Extract content inside <body>
        $body = $dom->getElementsByTagName('body')->item(0);
        if ($body) {
            $cleanHtml = '';
            foreach ($body->childNodes as $child) {
                $cleanHtml .= $dom->saveHTML($child);
            }
            return $cleanHtml;
        }

        // If no body, return cleaned full document
        return $dom->saveHTML();
    }

    public static function slugify($name): string
    {
        // Replace non-alphanumeric characters (except spaces) with a dash
        $name = preg_replace('/[^a-zA-Z0-9\s]/', '-', $name);

        // Replace one or more whitespace characters with a single dash
        $name = preg_replace('/\s+/', '-', $name);

        // Optional: convert to lowercase
        $name = strtolower($name);

        // Optional: remove duplicate dashes
        $name = preg_replace('/-+/', '-', $name);

        // Optional: trim dashes from start and end
        return trim($name, '-');
    }

    public static function extractIntro(string $html, int $limit = 230): string
    {
        // 1) Remove noisy blocks entirely
        $html = preg_replace('#<(script|style|noscript|iframe|svg|canvas|form|nav|footer|header)[\s\S]*?</\1>#iu', ' ', $html);

        // 2) Convert to plain text
        $text = strip_tags($html);

        // 3) Decode HTML entities and normalize whitespace
        $text = html_entity_decode($text, ENT_QUOTES | ENT_HTML5, 'UTF-8');
        $text = preg_replace('/\s+/u', ' ', trim($text));

        // 4) If already short enough, return
        if (mb_strlen($text, 'UTF-8') <= $limit) {
            return $text;
        }

        // 5) Trim to limit without cutting a word
        $snippet = mb_substr($text, 0, $limit, 'UTF-8');
        $lastSpace = mb_strrpos($snippet, ' ', 0, 'UTF-8');
        if ($lastSpace !== false && $lastSpace > 0) {
            $snippet = mb_substr($snippet, 0, $lastSpace, 'UTF-8');
        }

        // 6) Add ellipsis
        return rtrim($snippet, " \t\n\r\0\x0B.,;:") . 'â€¦';
    }
    public static function getCurrentUrl(): string
    {
        $protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] != 'off') ? "https" : "http";
        $host = $_SERVER['HTTP_HOST'];
        $requestUri = $_SERVER['REQUEST_URI'];

        return $protocol . "://" . $host . $requestUri;
    }
    public static function generateThumbnailWithPadding($sourcePath, $destinationPath, $thumbSize = 300): bool
    {
        $imageInfo = getimagesize($sourcePath);
        $imageType = $imageInfo[2];

        if ($imageType == IMAGETYPE_JPEG) {
            $sourceImage = imagecreatefromjpeg($sourcePath);
        } elseif ($imageType == IMAGETYPE_PNG) {
            $sourceImage = imagecreatefrompng($sourcePath);
        } elseif ($imageType == IMAGETYPE_GIF) {
            $sourceImage = imagecreatefromgif($sourcePath);
        } else {
            return false; // Unsupported format
        }

        $sourceWidth = imagesx($sourceImage);
        $sourceHeight = imagesy($sourceImage);

        // Calculate new dimensions to fit within the thumbnail size
        if ($sourceWidth > $sourceHeight) {
            $newWidth = $thumbSize;
            $newHeight = intval($sourceHeight * ($thumbSize / $sourceWidth));
        } else {
            $newHeight = $thumbSize;
            $newWidth = intval($sourceWidth * ($thumbSize / $sourceHeight));
        }

        // Create a blank square image with a white background
        $thumbImage = imagecreatetruecolor($thumbSize, $thumbSize);
        $white = imagecolorallocate($thumbImage, 255, 255, 255);
        imagefill($thumbImage, 0, 0, $white);

        // Center the resized image onto the blank square
        $xOffset = ($thumbSize - $newWidth) / 2;
        $yOffset = ($thumbSize - $newHeight) / 2;
        imagecopyresampled(
            $thumbImage,
            $sourceImage,
            $xOffset, $yOffset, 0, 0,
            $newWidth, $newHeight,
            $sourceWidth,
            $sourceHeight
        );

        $result = imagejpeg($thumbImage, $destinationPath, 90);

        // Free memory
        imagedestroy($sourceImage);
        imagedestroy($thumbImage);

        return $result;
    }
    public static function generateWebpThumbnailWithPadding($sourcePath, $destinationPath, $thumbSize = 300): bool
    {
        $imageInfo = getimagesize($sourcePath);
        $imageType = $imageInfo[2];

        switch ($imageType) {
            case IMAGETYPE_JPEG:
                $sourceImage = imagecreatefromjpeg($sourcePath);
                break;
            case IMAGETYPE_PNG:
                $sourceImage = imagecreatefrompng($sourcePath);
                break;
            case IMAGETYPE_GIF:
                $sourceImage = imagecreatefromgif($sourcePath);
                break;
            default:
                return false; // Unsupported format
        }

        $sourceWidth = imagesx($sourceImage);
        $sourceHeight = imagesy($sourceImage);

        // Calculate new dimensions to fit within the thumbnail size
        if ($sourceWidth > $sourceHeight) {
            $newWidth = $thumbSize;
            $newHeight = intval($sourceHeight * ($thumbSize / $sourceWidth));
        } else {
            $newHeight = $thumbSize;
            $newWidth = intval($sourceWidth * ($thumbSize / $sourceHeight));
        }

        // Create a blank square image with a white background
        $thumbImage = imagecreatetruecolor($thumbSize, $thumbSize);
        $white = imagecolorallocate($thumbImage, 255, 255, 255);
        imagefill($thumbImage, 0, 0, $white);

        // Center the resized image onto the blank square
        $xOffset = ($thumbSize - $newWidth) / 2;
        $yOffset = ($thumbSize - $newHeight) / 2;
        imagecopyresampled(
            $thumbImage,
            $sourceImage,
            $xOffset, $yOffset, 0, 0,
            $newWidth, $newHeight,
            $sourceWidth,
            $sourceHeight
        );

        // Output WebP instead of JPEG
        $result = imagewebp($thumbImage, $destinationPath, 90);

        // Free memory
        imagedestroy($sourceImage);
        imagedestroy($thumbImage);

        return $result;
    }
    public static function convertToWebP($source, $destination, $quality = 80): bool
    {
        $info = getimagesize($source);
        $mime = $info['mime'];

        switch ($mime) {
            case 'image/jpeg':
                $image = imagecreatefromjpeg($source);
                break;
            case 'image/png':
                $image = imagecreatefrompng($source);
                imagepalettetotruecolor($image);
                imagealphablending($image, true);
                imagesavealpha($image, true);
                break;
            case 'image/gif':
                $image = imagecreatefromgif($source);
                imagecreatefromwebp($source);
                break;
            case 'image/webp':
                $image= imagecreatefromwebp($source);
                break;
            default:
                return false;
        }

        $result = imagewebp($image, $destination, $quality);
        imagedestroy($image);

        return $result;
    }
    public static function reduceImageQuality($source, $destination, $quality = 80): bool
    {
        $info = getimagesize($source);
        if ($info === false) {
            return false;
        }

        $mime = $info['mime'];

        switch ($mime) {
            case 'image/jpeg':
                $image = imagecreatefromjpeg($source);
                if (!$image) return false;
                $result = imagejpeg($image, $destination, $quality);
                break;

            case 'image/png':
                $image = imagecreatefrompng($source);
                if (!$image) return false;

                imagepalettetotruecolor($image);
                imagealphablending($image, false);
                imagesavealpha($image, true);

                // PNG quality: 0 (best) to 9 (worst)
                $pngQuality = (int) round((100 - $quality) / 10);
                $pngQuality = max(0, min(9, $pngQuality));

                $result = imagepng($image, $destination, $pngQuality);
                break;

            case 'image/gif':
                $image = imagecreatefromgif($source);
                if (!$image) return false;
                $result = imagegif($image, $destination);
                break;

            case 'image/webp':
                $image = imagecreatefromwebp($source);
                if (!$image) return false;
                $result = imagewebp($image, $destination, $quality);
                break;

            default:
                return false;
        }

        imagedestroy($image);
        return $result;
    }
   public static function generateCenteredWebpThumbnail(
        string $sourcePath,
        string $destinationPath,
        int $thumbSize = 300,
        int $quality = 75
    ): bool
    {
        if (!file_exists($sourcePath)) {
            return false;
        }

        $info = getimagesize($sourcePath);
        if ($info === false) {
            return false;
        }

        $mime = $info['mime'];

        switch ($mime) {
            case 'image/jpeg':
                $srcImg = imagecreatefromjpeg($sourcePath);
                break;

            case 'image/png':
                $srcImg = imagecreatefrompng($sourcePath);
                imagepalettetotruecolor($srcImg);
                imagealphablending($srcImg, false);
                imagesavealpha($srcImg, true);
                break;

            case 'image/gif':
                $srcImg = imagecreatefromgif($sourcePath);
                break;

            case 'image/webp':
                $srcImg = imagecreatefromwebp($sourcePath);
                break;

            default:
                return false;
        }

        if (!$srcImg) {
            return false;
        }

        $srcWidth  = imagesx($srcImg);
        $srcHeight = imagesy($srcImg);

        // Determine square crop size
        $cropSize = min($srcWidth, $srcHeight);

        // Center crop coordinates
        $srcX = (int)(($srcWidth - $cropSize) / 2);
        $srcY = (int)(($srcHeight - $cropSize) / 2);

        // Create thumbnail canvas
        $thumbImg = imagecreatetruecolor($thumbSize, $thumbSize);

        // Preserve transparency
        imagealphablending($thumbImg, false);
        imagesavealpha($thumbImg, true);
        $transparent = imagecolorallocatealpha($thumbImg, 0, 0, 0, 127);
        imagefilledrectangle($thumbImg, 0, 0, $thumbSize, $thumbSize, $transparent);

        // Crop and resize
        imagecopyresampled(
            $thumbImg,
            $srcImg,
            0,
            0,
            $srcX,
            $srcY,
            $thumbSize,
            $thumbSize,
            $cropSize,
            $cropSize
        );

        // Ensure destination directory exists
        $dir = dirname($destinationPath);
        if (!is_dir($dir)) {
            mkdir($dir, 0777, true);
        }

        // Save as WebP
        $saved = imagewebp($thumbImg, $destinationPath, $quality);

        imagedestroy($srcImg);
        imagedestroy($thumbImg);

        return $saved;
    }

    public static function is_human_ip($ip): bool
    {
        $non_human_ips = [
            "54.174.58.233",
            "54.174.58.243",
            "54.174.58.249",
            "17.22.237.31",
            "17.22.245.58",
            "17.241.219.188",
            "17.241.75.118",
            "104.28.253.46",
            "45.12.136.67",
            "196.251.250.14",
            "45.80.210.92",
            "205.169.39.184",
            "205.169.39.56",
            "205.169.39.58",
            "173.252.83.1",
            "173.252.83.7",
            "31.13.115.112",
            "69.171.251.9",
            "34.116.174.147",
            "34.125.135.158",
            "34.94.168.147",
            "66.102.8.128",
            "66.102.8.129",
            "66.102.8.132",
            "66.249.66.164",
            "66.249.66.41",
            "66.249.66.6",
            "66.249.66.7",
            "66.249.76.196",
            "66.249.76.197",
            "66.249.76.198",
            "66.249.76.200",
            "66.249.79.1",
            "66.249.79.7",
            "66.249.79.8",
            "66.249.83.100",
            "66.249.83.101",
            "66.249.83.102",
            "66.249.93.132",
            "66.249.93.133",
            "66.249.93.134",
            "72.14.199.102",
            "72.14.199.103",
            "72.14.199.96",
            "74.125.213.36",
            "74.125.213.37",
            "74.125.213.38",
            "62.93.165.39",
            "213.239.200.253",
            "88.198.147.151",
            "79.127.142.116",
            "172.104.31.80",
            "45.79.159.178",
            "40.77.177.122",
            "40.77.177.223",
            "40.77.177.243",
            "40.77.177.250",
            "40.77.178.152",
            "40.77.178.31",
            "65.55.210.247",
            "203.159.81.73",
            "51.158.36.186",
            "51.195.255.139",
            "219.100.37.236",
            "219.100.37.238",
            "219.100.37.244",
            "169.150.218.35",
            "15.204.228.11",
            "188.178.26.104",
            "38.60.208.208",
            "5.11.81.40",
            "41.63.42.12",
            "13.79.87.25",
            "142.250.32.7",
            "20.169.12.162",
            "142.250.32.6",
            "142.250.32.8",
            "209.85.238.130",
            "66.249.73.160",
            "66.249.93.226",
            "209.85.238.129",
            "66.249.73.161",
            "209.85.238.128",
            "205.210.31.37",
            "172.192.8.200",
            "198.235.24.243",
            "198.235.24.114",
            "66.249.93.225",
            "66.249.93.227",
            "192.178.8.69",
            "172.224.231.84",
            "48.218.145.85",
            "13.89.227.44",
            "48.218.113.124",
            "4.216.138.163",
            "74.125.150.67",
            "13.95.133.245","13.71.147.125","13.95.133.245","40.113.118.83","13.79.87.25","13.95.133.245","13.95.133.245","4.236.126.240","4.236.126.240","169.197.142.180","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.169.12.162","20.78.94.240","13.95.133.245","169.197.142.180","169.197.142.180","169.197.142.180","169.197.142.180","20.229.51.198","45.8.22.56","40.115.191.104","54.183.170.121","13.57.209.222","20.229.51.198","4.43.184.113","40.113.118.83","52.163.83.245","52.163.83.245","52.163.83.245","52.163.83.245","52.163.83.245","52.163.83.245","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","20.105.137.134","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","178.128.116.94","35.196.12.43","4.43.184.113","20.229.51.198","52.53.248.58","3.101.36.233","169.197.142.180","169.197.142.180","169.197.142.180","169.197.142.180","54.151.60.235","13.57.224.221","20.229.51.198","13.52.252.14","13.52.252.14","4.43.184.113","34.73.231.144","40.113.118.83","54.67.113.25","172.192.8.200","54.215.240.99","143.244.57.82","143.244.57.82","143.244.57.82","143.244.57.82","20.229.51.198","3.101.155.156","54.177.192.103","20.168.19.99","4.43.184.113","185.241.208.111","185.241.208.111","185.241.208.111","20.105.137.134","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","48.218.145.85","20.105.137.134","18.144.85.53","54.176.115.109","13.89.227.44","13.89.227.44","13.89.227.44","13.89.227.44","13.89.227.44","13.89.227.44","13.89.227.44","13.89.227.44","13.95.133.245","45.131.195.219","13.86.90.41","13.86.90.41","13.86.90.41","13.86.90.41","13.86.90.41","13.86.90.41","4.43.184.114","23.27.145.113","13.95.133.245","20.168.57.113","169.197.142.180","54.176.32.127","13.95.133.245","20.105.137.134","20.229.51.198","20.229.51.198","172.192.39.16","169.197.142.180","40.113.118.83","104.154.242.243","40.113.118.83","4.43.184.114","54.153.109.127","34.9.18.126","34.11.207.190","52.53.174.210","27.4.22.122","48.218.113.124","40.115.234.100","20.105.137.134","20.243.249.146","4.43.184.114","20.105.137.134","4.216.138.163","172.172.17.120","169.197.142.180","169.197.142.180","172.191.183.155","13.95.133.245","48.218.61.180","4.43.184.114","13.95.133.245","4.43.184.114","172.192.54.157","74.226.162.175","20.105.137.134","4.43.184.114","20.105.137.134","4.43.184.114","13.95.133.245","4.43.184.114","13.52.103.152","172.203.39.201","27.4.40.244","40.113.118.83","172.207.132.206","172.207.132.206","172.207.132.206","172.207.132.206","172.207.132.206","172.207.132.206","172.207.132.206","172.207.132.206","172.207.154.183","13.95.133.245","169.197.142.180","169.197.142.180","27.4.40.244","104.28.231.231","104.28.231.231","104.28.231.231","104.28.231.231","4.43.184.114","13.68.221.248","20.105.137.134","27.4.40.244","27.4.40.244","20.229.51.198","4.43.184.114","20.229.51.198","169.197.142.180","20.105.137.134","13.95.133.245","4.43.184.114","125.166.119.82","13.95.133.245","13.57.253.122","27.4.40.244","3.101.22.104","4.43.184.114","169.197.142.180","40.113.118.83","13.95.133.245","27.4.40.244","13.95.133.245","172.173.171.126","4.43.184.114","20.229.51.198","172.207.130.10","157.230.71.9","157.230.71.9","149.22.91.137","95.173.221.18","149.57.180.159","20.105.137.134","4.43.184.114","27.4.40.244","20.105.137.134","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","34.174.171.71","13.95.133.245","13.95.133.245","27.4.40.244","4.43.184.114","172.176.76.42","204.236.141.79","52.143.130.125","52.143.130.125","52.143.130.125","52.143.130.125","52.143.130.125","52.143.130.125","85.8.130.79","20.78.102.120","20.78.102.120","20.78.102.120","20.78.102.120","54.153.43.181","48.210.8.55","204.236.187.1","4.43.184.113","48.210.8.55","48.210.8.55","54.177.252.16","54.177.252.16","40.113.118.83","130.33.49.2","4.43.184.113","20.242.109.116","103.216.1.1","208.84.101.48","52.53.218.230","54.219.221.100","103.216.1.2","51.38.121.102","104.164.123.244","104.164.123.244","74.176.193.146","74.176.193.146","4.43.184.113","45.95.214.254","172.207.9.124","20.105.137.134","52.53.244.253","54.183.27.198","48.218.56.208","4.43.184.113","54.183.179.205","40.69.146.162","40.69.146.162","40.69.146.162","40.69.146.162","40.69.146.162","54.67.119.107","40.122.52.254","40.122.52.254","40.122.52.254","40.122.52.254","40.122.52.254","54.176.83.44","13.52.100.81","52.173.241.112","52.173.241.112","52.173.241.112","52.173.241.112","52.173.241.112","4.43.184.113","52.9.16.172","18.144.147.139","4.43.184.113","52.53.149.220","23.191.80.118","23.191.80.118","185.212.171.141","185.212.171.141","54.193.126.111","4.43.184.113","13.57.181.18","13.57.244.175","217.156.123.132","4.43.184.113","20.105.137.134","50.18.135.126","52.53.195.172","23.191.80.102","23.191.80.102","209.50.227.112","209.50.227.112","54.153.49.92","54.241.65.234","54.156.251.192","13.57.41.236","48.218.146.89","3.101.26.8","4.43.184.113","172.202.1.208","52.53.187.41","172.202.1.208","172.202.1.208","3.101.141.176","54.219.92.165","54.215.51.44","4.43.184.113","149.57.180.9","54.67.34.59","54.176.166.154","4.205.254.11","195.178.110.48","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","216.126.239.19","4.43.184.113","54.241.150.142","52.53.250.247","4.206.16.96","4.206.16.96","4.206.16.96","48.218.71.119","4.43.184.113","15.235.145.161","193.36.224.58","164.138.216.248","212.44.120.9","212.44.120.9","149.88.98.87","4.43.184.113","20.229.51.198","13.52.74.71","54.176.43.28","20.105.137.134","4.43.184.113","48.210.231.218","13.52.231.183","54.176.89.210","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","13.78.79.102","4.43.184.113","54.153.23.23","54.153.23.23","54.193.59.5","18.144.166.77","4.43.184.113","149.57.180.48","180.243.0.85","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","20.172.38.178","4.43.184.113","145.40.184.89","54.67.126.218","51.89.60.56","51.89.60.56","13.52.241.9","195.24.236.50","145.40.184.89","145.40.184.89","45.141.215.10","45.80.158.89","45.80.158.89","45.80.158.89","52.53.167.159","54.219.188.94","45.141.215.10","4.43.184.113","13.57.3.104","13.57.226.227","195.178.110.109","195.178.110.109","4.43.184.113","149.57.180.100","141.98.10.113","40.113.118.83","51.68.186.52","4.43.184.113","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","85.203.44.218","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.129","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.119","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.129","45.8.19.129","193.32.248.250","193.32.248.250","193.32.248.250","193.32.248.250","4.189.161.52","136.115.234.135","129.227.35.3","129.227.35.3","129.227.35.3","129.227.35.3","129.227.35.3","129.227.35.3","4.43.184.113","52.164.216.133","52.164.216.133","52.164.216.133","52.164.216.133","52.164.216.133","52.164.216.133","52.164.216.133","52.164.216.133","54.193.47.0","4.197.147.186","4.197.147.186","13.52.187.158","4.43.184.113","20.229.51.198","180.101.81.23","180.101.81.24","34.102.61.196","4.43.184.113","54.153.41.195","54.153.78.86","103.253.24.50","103.253.24.50","103.253.24.50","103.253.24.50","149.57.180.186","4.43.184.113","4.189.125.63","4.43.184.113","13.57.41.188","54.219.165.185","4.230.47.236","20.89.194.218","20.229.51.198","52.8.228.160","54.241.115.249","4.43.184.113","13.52.218.166","54.153.66.200","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","4.194.80.43","20.229.51.198","13.57.40.172","20.105.137.134","40.113.118.83","54.177.125.33","4.43.184.113","13.95.133.245","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","54.215.72.184","3.101.143.213","20.105.137.134","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","216.126.239.57","40.113.118.83","13.95.133.245","20.229.51.198","34.94.6.79","84.20.16.121","68.183.245.101","170.64.226.79","84.20.16.121","52.53.157.195","180.242.129.7","13.57.226.48","4.43.184.113","54.176.79.231","54.151.20.54","51.68.186.52","52.169.237.24","34.81.39.118","34.81.39.118","51.195.112.210","104.197.69.115","205.169.39.8","95.181.236.20","205.169.39.16","34.116.39.70","3.148.236.122","34.116.39.69","3.133.116.169","34.174.218.101","192.42.116.208","93.15.67.111","51.255.133.93","51.83.243.158","34.122.147.229","103.106.228.43","147.135.244.204","16.147.91.55","52.14.85.159","34.174.192.151","3.143.225.87","91.245.235.154","104.168.71.207","104.168.71.207","185.220.101.24","93.119.227.91","69.4.87.74","51.255.218.113","4.43.184.113","34.71.150.240","3.147.70.145","34.116.39.70","34.116.39.70","18.225.254.71","138.197.91.206","138.197.91.206","104.232.199.22","104.252.110.222","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","23.191.80.122","82.27.231.234","2.51.127.82","2.51.127.82","159.195.56.133","2.51.127.82","2.51.127.82","142.252.35.186","152.53.18.243","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","2.51.127.82","54.201.194.149","2.51.127.82","2.51.127.82","2.51.127.82","155.2.194.17","2.51.127.82","39.110.218.101","172.234.143.83","141.148.153.213","51.83.214.114","34.116.39.70","3.138.119.42","18.221.171.38","54.71.187.124","34.116.39.70","34.71.150.240","77.37.102.252","18.221.171.38","34.71.150.240","34.116.39.71","3.133.145.163","34.116.39.70","45.84.107.174","43.153.48.240","213.188.69.61","129.153.109.43","2.51.127.82","104.168.71.22","45.129.85.14","139.59.145.68","104.197.69.115","164.92.212.136","178.175.129.44","52.87.152.104","44.202.23.241","44.211.38.214","3.95.223.175","52.91.66.224","52.91.179.37","209.50.227.112","170.64.252.169","149.88.103.78","34.116.39.70","3.147.6.158","3.145.172.2","34.116.39.70","34.125.216.37","205.169.39.6","205.169.39.57","205.169.39.57","205.169.39.43","192.42.116.212","146.190.190.67","2.51.127.82","43.173.180.55","51.83.214.114","51.89.24.36","118.194.228.7","34.116.39.70","34.125.216.37","34.116.39.71","45.84.107.55","185.220.100.253","207.154.220.242","173.244.49.55","54.86.212.26","3.91.74.122","100.31.204.203","98.81.8.116","3.239.207.249","34.238.159.138","34.168.50.18","213.188.85.241","116.212.189.139","118.194.230.61","51.195.55.167","216.73.216.136","64.251.10.185","209.216.92.194","93.15.67.111","93.15.67.111","93.15.67.111","93.15.67.111","93.15.67.111","93.15.67.111","91.90.126.41","54.198.116.170","44.198.192.46","54.163.90.48","44.201.37.220","44.201.37.220","98.92.1.101","104.232.199.37","201.205.178.1","51.83.214.114","51.195.55.167","51.195.92.135","45.79.42.132","104.253.247.37","167.99.168.243","167.99.168.243","16.147.6.29","103.133.140.30","44.243.83.239","64.18.126.41","35.167.62.168","45.79.42.132","212.102.39.194","146.190.190.67","146.190.190.67","13.71.46.221","13.71.46.221","13.71.46.221","38.224.19.87","38.224.19.87","38.224.19.87","38.224.19.87","38.224.19.87","38.224.19.87","38.224.19.87","38.224.19.87","84.20.16.121","95.173.221.19","84.20.16.121","185.212.171.135","185.212.171.135","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","74.179.70.65","3.99.188.156","3.99.188.156","74.50.107.199","157.245.203.147","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","212.227.52.8","4.43.184.113","212.30.37.49","72.153.230.168","205.169.39.182","205.169.39.182","34.34.253.146","54.91.122.193","52.169.209.167","3.128.179.89","3.144.84.60","34.116.39.70","34.116.39.69","34.125.230.24","104.197.69.115","173.239.247.172","162.43.237.81","192.210.178.138","35.161.55.221","35.161.55.221","198.244.133.155","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","138.197.91.206","118.194.228.7","44.247.88.168","35.161.55.221","35.161.55.221","35.161.55.221","152.32.146.219","152.32.146.219","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","4.194.129.107","93.119.227.91","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","209.38.81.126","172.192.69.249","209.38.81.126","209.38.81.126","209.38.81.126","172.192.69.249","209.38.81.126","209.38.81.126","172.192.69.249","172.192.69.249","172.192.69.249","172.192.69.249","172.192.69.249","172.192.69.249","35.187.132.228","35.187.132.230","34.50.173.143","45.133.74.53","52.138.143.75","212.102.39.201","104.168.71.124","103.4.250.60","104.168.71.124","103.4.250.60","54.37.200.151","52.169.205.102","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","68.57.225.123","4.43.184.113","180.242.129.7","118.194.230.61","185.177.72.8","185.177.72.8","83.112.240.44","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","4.197.208.185","205.169.39.208","205.169.39.208","205.169.39.206","205.169.39.206","4.189.144.35","4.217.198.17","69.4.87.74","20.250.45.203","20.250.45.203","20.250.45.203","20.250.45.203","20.250.45.203","51.89.39.44","4.43.184.113","205.169.39.252","205.169.39.252","189.48.254.84","5.255.231.62","5.255.231.142","192.36.109.116","192.36.53.165","45.85.251.23","205.169.39.147","205.169.39.147","4.43.184.113","185.177.72.11","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","20.214.243.12","16.52.155.187","35.152.175.10","3.97.10.103","130.185.82.52","130.185.82.52","69.4.87.74","107.173.224.27","41.59.219.11",
            "34.122.171.134",

        ];
        return !in_array($ip, $non_human_ips, true);
    }

}